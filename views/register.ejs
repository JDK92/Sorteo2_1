<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" media="screen" href="/css/materialize.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/css/style.css">

    <link rel="shortcut icon" type="image/png" href="/media/60aniv.ico">
    <title>Registro</title>
</head>

<body>
    <main class="container">

        <h3 class="green-text text-darken-4">Registro de usuario</h3>
        <% if (!servicio) {%>
        <h4 class="red-text text-darken-4">
            Ocurrió un error. Intenta más tarde.
        </h4>
        <% }%>
        <% if(errors){ %>
        <ul>
            <% errors.forEach(function( err){ %>
            <li>
                <%= err.msg %>
            </li>
            <% }) %>
        </ul>
        <%}%>

        <% if (usuarioRegistrado) { %>
        <h4 class="red-text text-darken-3">Este usuario ya se encuentra registrado. Favor de iniciar sesión.</h4>
        <% }%>


        <p>
            Si ya tienes cuenta,
            <a href="login">haz clic aquí para iniciar sesión</a>
        </p>
        <p class="red-text text-darken-4">* Campos obligatorios</p>

        <form method="post" action="registrarCliente" class="white">
            <div class="row">
                <h5>Datos personales</h5>
                <div class="col s12 m4 ">
                    <div class="input-field">
                        <label for="nombre">Nombre</label>
                        <input class="requiredField" onkeyup="validaRegistro()" type="text" name="nomCliente" maxlength="50"
                            placeholder="Nombre*">
                    </div>
                </div>
                <div class="col s12 m4 ">
                    <div class="input-field">
                        <label for="apellidoPaterno">Apellido paterno</label>
                        <input class="requiredField" onkeyup="validaRegistro()" type="text" name="apellidoPaterno"
                            maxlength="50" placeholder="Apellido paterno*">
                    </div>
                </div>
                <div class="col s12 m4 ">
                    <div class="input-field">
                        <label for="apellidoMaterno">Apellido materno</label>
                        <input class="requiredField" onkeyup="validaRegistro()" type="text" name="apellidoMaterno"
                            maxlength="50" placeholder="Apellido materno*">
                    </div>
                </div>
            </div>

            <div class="row">
                <h5>Domicilio</h5>
                <div class="col s12 m6 xl4">
                    <div class="input-field">
                        <label for="nomCalle">Calle</label>
                        <input class="requiredField" onkeyup="validaRegistro()" type="text" name="nomCalle" maxlength="50"
                            placeholder="Calle*">
                    </div>
                </div>
                <div class="col s12 m3 xl2">
                    <div class="input-field">
                        <label for="numExterior">Número exterior</label>
                        <input class="requiredField" onkeyup="validaRegistro()" type="text" name="numExterior"
                            maxlength="10" placeholder="Número exterior*">
                    </div>
                </div>
                <div class="col s12 m3 xl2">
                    <div class="input-field">
                        <label for="numInterior">Número interior</label>
                        <input type="text" name="numInterior" maxlength="10" placeholder="En caso de tener">
                    </div>
                </div>
                <div class="col s12 m6 xl4">
                    <div class="input-field">
                        <label for="nomColonia">Colonia</label>
                        <input class="requiredField" onkeyup="validaRegistro()" type="text" name="nomColonia" maxlength="50"
                            placeholder="Colonia*">
                    </div>
                </div>
                <div class="col s12 m6 xl2">
                    <div class="input-field">
                        <label for="codigoPostal">Código Postal</label>
                        <input class="requiredField" onkeyup="validaRegistro()" type="text" name="codigoPostal"
                            maxlength="5" placeholder="Código postal*">
                    </div>
                </div>
                <div class="col s12 m6 xl5">
                    <div class="input-field">
                        <label for="ciudad">Ciudad</label>
                        <input class="requiredField" onkeyup="validaRegistro()" type="text" name="nomCiudad" maxlength="50"
                            placeholder="Ciudad*">
                    </div>
                </div>
                <div class="col s12 m6 xl5">
                    <div class="input-field">
                        <select name="estadoPicked" id="idEstado" class="browser-default" value="<%=estado%>" onchange="validaRegistro()">
                            <option value="" disabled selected>Selecciona un Estado</option>
                            <% for (let i = 0; i < estado.length; i++) { %>
                            <option value="<%= estado[i].idTienda %>" name="<%= estado[i].idTienda %>">
                                <%= estado[i].nombreTienda %>
                            </option>
                            <% } %>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row">
                <h5>Contacto</h5>
                <div class="col s12 m6 ">
                    <div class="input-field">
                        <label for="numCelular">Celular</label>
                        <input class="requiredField" onkeyup="validaRegistro()" type="text" name="numCelular" maxlength="10"
                            placeholder="Celular*">
                    </div>
                </div>

                <div class="col s12 m6 ">
                    <div class="input-field">
                        <label for="numTelefono">Teléfono casa</label>
                        <input class="requiredField" onkeyup="validaRegistro()" type="text" name="numTelefono"
                            maxlength="10" placeholder="Repite celular si no tienes*">
                    </div>
                </div>


                <div class="col s12 m4 ">
                    <div class="input-field">
                        <label for="email">Correo*</label>
                        <input class="requiredField" onkeyup="validaRegistro()" type="email" name="email" maxlength="50"
                            placeholder="Correo*">
                    </div>
                </div>
                <div class="col s12 m4 ">
                    <div class="input-field">
                        <label for="password">Contraseña</label>
                        <input class="requiredField" onkeyup="validaRegistro()" type="password" name="password" id="password"
                            maxlength="50" placeholder="Contaseña*">
                    </div>
                </div>
                <div class="col s12 m4 ">
                    <div class="input-field">
                        <label for="confirmPassword">Confirmar contraseña</label>
                        <input class="requiredField" onkeyup="validaRegistro()" type="password" name="confirmPassword"
                            id="confirmPassword" maxlength="50" placeholder="Confirma contraseña*">
                    </div>
                    <span id="message" class="text-darken-3"></span>
                </div>

                <div class="center-align">
                    <button class="btn waves-effect waves-green green darken-2" type="submit" id="submit" disabled>ENVIAR</button>
                </div>
            </div>
        </form>


        <p class="center-align">
            <a href="." class="btn-small waves-effect waves-light black white-text">
                Regresar
            </a>
        </p>
    </main>
    <canvas id="confetti-holder" class="confetti hide-on-med-and-down"></canvas>
    <script src="/js/materialize.min.js"></script>
    <script src="/js/index.min.js"></script>
    <script src="/js/confetti.js"></script>
    <script src="/js/jquery.min.js"></script>
    <script src="/js/script.js"></script>
    <!--Start of Tawk.to Script-->
    <script type="text/javascript">
        var Tawk_API = Tawk_API || {},
            Tawk_LoadStart = new Date();
        (function () {
            var s1 = document.createElement("script"),
                s0 = document.getElementsByTagName("script")[0];
            s1.async = true;
            s1.src = 'https://embed.tawk.to/5a7b8c5c4b401e45400cc43c/default';
            s1.charset = 'UTF-8';
            s1.setAttribute('crossorigin', '*');
            s0.parentNode.insertBefore(s1, s0);
        })();
    </script>
    <!--End of Tawk.to Script-->
</body>

</html>